version: '3'
services:
  web:
    image: python:3.8
    environment:
      - SECRET_KEY=your_secret_key
      - DEBUG=on
      - MAIL_BACKEND=smtp
      - EMAIL_HOST=your_email_host
      - EMAIL_PORT=your_email_port
      - EMAIL_HOST_USER=your_email_user
      - EMAIL_HOST_PASSWORD=your_email_password
    volumes:
      - .:/app
    working_dir: /app
    command: >
      bash -c "pip install -r requirements.txt &&
               python manage.py migrate &&
               python manage.py runserver 0.0.0.0:8000"